version: '3.8'

services:
  timer:
    build: .
    container_name: timer_app
    # Eğer NPM sadece Docker network üzerinden erişecekse,
    # aşağıdaki ports kısmını komple silebilirsin.
    # Dışarıdan 8082 ile erişmeye devam etmek istiyorsan bırak.
    ports:
      - "${PORT:-8082}:80"
    restart: unless-stopped
    volumes:
      - ./uploads:/usr/share/nginx/html/uploads:ro
    networks:
      - proxy   # <— BURASI ÖNEMLİ: NPM ile aynı network

networks:
  proxy:
    external: true   # Docker'da zaten var olan "proxy" network'ünü kullan
